import{d as g,g as f,r as d,h as w,a as u,b as t,t as k,F as y,i as S,o as i,_ as D,j as M,k as b,w as _,v as C,c as B}from"./index-CIuFpk-4.js";import{d as O}from"./index-Cb82_rL4.js";const $={class:"standard"},I=["disabled"],V={style:{"max-height":"500px","overflow-y":"auto"}},N=g({__name:"CustomClock",props:{options:{},clockInterval:{}},setup(p){const e=p,s=f(Date.now()),a=f([]),l=d({value:e.options.start!=null?(e.options.start||0)/1e3:"",isOver:!0}),o=new O.CountManger({interval:e.clockInterval||1e3}).subScribe(({value:c,isOver:m})=>{console.log("value:",c),l.isOver=m,l.value=c/1e3;const r=Date.now(),v=r-s.value;s.value=r,a.value.push(`执行时间${new Date(r).toJSON()}, 执行间隔: ${v} ms`)},{...e.options});function x(){s.value=Date.now(),o.startListening()}return w(()=>{o&&o.unSubscribe()}),(c,m)=>(i(),u("div",$,[t("div",null,[t("div",null,[t("button",{onClick:x,disabled:!l.isOver},"开始计时",8,I)]),t("div",null,"时间："+k(l.value),1)]),t("div",V,[(i(!0),u(y,null,S(a.value,(r,v)=>(i(),u("div",{key:v},k(r),1))),128))])]))}}),U=D(N,[["__scopeId","data-v-834f72ae"]]),L=g({__name:"CustomClock",setup(p){const e=d({interval:100,step:200}),s=d({interval:500,step:500});function a(){s.interval=e.interval,s.step=e.step}return M(()=>{a()}),(l,n)=>(i(),u("div",null,[t("div",null,[t("div",null,[n[2]||(n[2]=b(" 时钟间隔：")),_(t("input",{type:"number","onUpdate:modelValue":n[0]||(n[0]=o=>e.interval=o)},null,512),[[C,e.interval]]),n[3]||(n[3]=b(" 步距：")),_(t("input",{type:"number","onUpdate:modelValue":n[1]||(n[1]=o=>e.step=o)},null,512),[[C,e.step]]),t("button",{onClick:a},"应用设置")]),n[4]||(n[4]=t("div",{class:"red"},[t("div",null,"时间间隔是时钟运行的最小单位，也是首次计时的最大误差。"),t("div",null,"步距是增长或者减少的单位，要比时钟间隔大。")],-1))]),(i(),B(U,{key:`${s.interval}-${s.step}`,options:{start:60*1e3,notifyOnSubscribe:!1,step:s.step},"clock-interval":s.interval},null,8,["options","clock-interval"]))]))}});export{L as default};
